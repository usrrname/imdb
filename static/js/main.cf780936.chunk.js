(this["webpackJsonpfave-movies"]=this["webpackJsonpfave-movies"]||[]).push([[0],{37:function(e,i,t){},38:function(e,i,t){},64:function(e,i,t){"use strict";t.r(i);var c=t(0),n=t.n(c),o=t(29),s=t.n(o),a=(t(37),t(38),t(12)),r=t(2),l={movies:[],isLoading:!1,likedMoviesList:[],likeMovie:function(e){},unLikeMovie:function(e){}},j=Object(c.createContext)(l),d=j,b=j.Provider,u=(j.Consumer,t(8)),v=t(30),O=t.n(v);var h=t(19);var k=t(1),x=function(e){var i=e.movie,t=e.likeMovie,n=e.unLikeMovie,o=Object(c.useState)(!1),s=Object(u.a)(o,2),a=s[0],l=s[1],j=Object(r.f)({path:"/",exact:!0}),d=Object(r.f)({path:"/liked",exact:!0}),b=function(){!a&&i.liked?n(i):t(i)};return Object(k.jsxs)("div",{className:"movie-tile",children:[Object(k.jsxs)("div",{className:"like-btn-wrapper",children:[j&&Object(k.jsx)("label",{htmlFor:i.id.toString(),className:"like-label",children:Object(k.jsx)("input",{id:i.id.toString(),className:"like-btn",type:"checkbox",checked:i.liked,onChange:function(){return b()},onClick:function(){return l(!!a)}})}),d&&Object(k.jsx)("label",{htmlFor:i.id.toString(),className:"like-label",children:Object(k.jsx)("input",{id:i.id.toString(),className:"like-btn",type:"checkbox",checked:i.liked,onChange:function(){return b()},onClick:function(){l(!a)}})})]}),Object(k.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(i.poster_path),alt:i.overview}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"movie-description",children:[Object(k.jsx)("small",{children:"Title"}),Object(k.jsx)("p",{children:i.title}),Object(k.jsx)("small",{children:"Popularity"}),Object(k.jsx)("p",{children:i.popularity})]})]})},m=function(){var e=Object(c.useContext)(d),i=e.movies,t=e.likeMovie,n=e.unLikeMovie;return Object(k.jsx)("div",{className:"movies-browser",children:i.map((function(e){return Object(k.jsx)(x,{movie:e,likeMovie:t,unLikeMovie:n},e.id)}))})},f=function(){var e=Object(c.useContext)(d),i=e.likedMoviesList,t=e.likeMovie,n=e.unLikeMovie;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{children:"Your Favourite Movies"}),Object(k.jsx)("div",{className:"movies-browser",children:i.map((function(e){return Object(k.jsx)(x,{movie:e,likeMovie:t,unLikeMovie:n},e.id)}))})]})},p=function(){var e=function(){var e=Object(c.useState)([]),i=Object(u.a)(e,2),t=i[0],n=i[1],o=Object(c.useState)(!1),s=Object(u.a)(o,2),a=s[0],r=s[1],l=Object(c.useCallback)((function(){r(!0),O.a.get("".concat("https://api.themoviedb.org/3/movie/popular","?api_key=").concat("d0f5f2e135336200362af8a1a73acb17","&page=1")).then((function(e){n(e.data.results),r(!1)})).catch((function(e){console.error(e),r(!1)}))}),[n]);return Object(c.useEffect)((function(){return l()}),[l]),{isLoading:a,movies:t}}(),i=e.movies,t=e.isLoading,n=function(){var e=Object(c.useState)([]),i=Object(u.a)(e,2),t=i[0],n=i[1],o=Object(c.useCallback)((function(e){e.liked=!0;var i=Object(h.a)(t);i.some((function(i){return i.id===e.id}))||(i=i.concat(e),n(i))}),[t]),s=Object(c.useCallback)((function(e){var i=Object(h.a)(t);e.liked=!1;var c=i.findIndex((function(i){return i.id===e.id}));if(c>-1){var o=i.slice(0,c),s=i.slice(c+1);i=o.concat(s)}n(i)}),[t]);return{likedMoviesList:t,likeMovie:o,unLikeMovie:s}}(),o=n.likeMovie,s=n.unLikeMovie,l=n.likedMoviesList,j={movies:i,isLoading:t,likeMovie:o,likedMoviesList:l,unLikeMovie:s};return Object(k.jsxs)(a.a,{basename:"/imdb",children:[Object(k.jsx)("nav",{children:Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)(a.b,{to:"/",children:"Home"})}),Object(k.jsx)("li",{children:Object(k.jsx)(a.b,{to:"/liked",children:"Liked"})})]})}),Object(k.jsx)("div",{className:"app-content",children:Object(k.jsx)(b,{value:j,children:Object(k.jsxs)(r.c,{children:[Object(k.jsx)(r.a,{exact:!0,path:"/",children:t?Object(k.jsx)("p",{children:"Loading..."}):Object(k.jsx)(m,{})}),Object(k.jsx)(r.a,{exact:!0,path:"/liked",children:l&&l.length>0?Object(k.jsx)(f,{}):Object(k.jsx)("p",{children:"You don't have any faved movies!"})})]})})})]})},g=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,65)).then((function(i){var t=i.getCLS,c=i.getFID,n=i.getFCP,o=i.getLCP,s=i.getTTFB;t(e),c(e),n(e),o(e),s(e)}))};t(32).config({path:"../.env"}),s.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(p,{})}),document.getElementById("root")),g()}},[[64,1,2]]]);
//# sourceMappingURL=main.cf780936.chunk.js.map